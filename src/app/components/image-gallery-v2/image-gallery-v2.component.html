<lib-up-slider style="height: 100%; display:block" [useHeight]="'100%'" [isActive]="show" (onClose)="currentImage = undefined; onClose.emit()">

    <div style="display: flex; flex-direction: column; height: calc(100vh - 37px);">
        <div class="element-container" [ngClass]="'element-container-' + ss.style">
            <h3>Albums</h3>
            <div class="album-collection">
                <div class="album-container" *ngFor="let album of albumList" (click)="onSelectAlbum(album)">
                <img [src]="getAlbumImage(album)">
                <span>{{ album }}</span>
                <div *ngIf="album != filterBy" class="album-cover"></div>
            </div>        
            </div>

        </div>


        <div class="image-gallery-holder">
            <div class="image-gallery" [@imageGalShow]="showImages ? 'expanded' : 'collapse'">
                <div class="image-holder" *ngFor="let image of imageEntries|imageAlbumFilter:filterBy" (click)="currentImage = image">
                    <img [src]="image.src">
                    <p *ngIf="image.record.name">{{ image.record.name }}</p>
                </div>
            </div>
        </div>        
    </div>


    <lib-up-slider [isActive]="currentImage !== undefined" (onClose)="currentImage = undefined">
        <div class="current-image">
            <div class="current-image-holder">
                <img [src]="currentImage?.src">

                <div *ngIf="isCropping" class="crop-shades" style="top: 0; width: 100%" [ngStyle]="{'height.px': squarePosition.top}"></div>
                <div *ngIf="isCropping" class="crop-shades" style="bottom: 0; width: 100%" [ngStyle]="{'top.px': squarePosition.top + squareSize}"></div>
                <div *ngIf="isCropping" class="crop-shades" style="top: 0; left: 0; height: 100%" [ngStyle]="{'width.px': squarePosition.left}"></div>
                <div *ngIf="isCropping" class="crop-shades" style="top: 0; right: 0; height: 100%" [ngStyle]="{'left.px': squarePosition.left + squareSize}"></div>
                <div *ngIf="isCropping" class="crop-borders" 
                    (mousemove)="onMoveCropBorders($event)"
                    (mousedown)="onDragMouseDown($event)"
                    [ngStyle]="{'left.px': squarePosition.left, 'top.px': squarePosition.top, 'width.px' : squareSize, 'height.px' : squareSize}">
    
                    <div class="crop-resizer" (mousedown)="onResizeStart($event)" (mousemove)="onResizeMove($event)"></div>
                </div>
            </div>

            <div class="current-image-dashboard form">
                <div class="form-group">
                    <label class="form-label">Name</label>
                    <input class="form-control">
                </div>
                <div class="form-group">
                    <input type="checkbox" class="form-check-input"  [(ngModel)]="isCropping" (change)="onCropCheck()">
                    <label class="form-check-label">Use Crop</label>
                    
                    <button class="btn btn-submit btn-primary" *ngIf="cropChanged" (click)="onUpdateCrop()">Update Cropping</button>
                    <p></p>
                </div>
                <div class="form-group">
                    <p>Stats</p>
                </div>
            </div>

        </div>
    </lib-up-slider>



</lib-up-slider>